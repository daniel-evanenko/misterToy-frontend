import{c as x,r as v,h as g,j as e,u as j,w as f,d as p,f as b}from"./index-CU16BnFX.js";function k(){const n=x(s=>s.userModule.loggedInUser),[l,t]=v.useState(n),i=g();function a({target:s}){const o=s.name;let r=s.value;switch(s.type){case"number":case"range":r=+r||"";break;case"checkbox":r=s.checked;break}t(m=>({...m,[o]:r}))}function c(s){s.preventDefault(),f(l).then(o=>{i("/todo"),p(`User details saved (id: ${o._id})`)}).catch(o=>{b("Cannot save user details"),console.log("err:",o)})}if(!l)return e.jsx("h1",{children:"No logged in user"});const{fullname:u,color:d,backgroundColor:h}=l;return e.jsxs("section",{className:"user-details",children:[e.jsxs("form",{onSubmit:c,children:[e.jsx("label",{htmlFor:"fullname",children:"Name:"}),e.jsx("input",{onChange:a,value:u,type:"text",name:"fullname",id:"fullname"}),e.jsx("label",{htmlFor:"color",children:"Color:"}),e.jsx("input",{onChange:a,value:d,type:"color",name:"color",id:"color"}),e.jsx("label",{htmlFor:"backgroundColor",children:"BG color:"}),e.jsx("input",{onChange:a,value:h,type:"color",name:"backgroundColor",id:"backgroundColor"}),e.jsx("button",{children:"Save"})]}),e.jsxs("div",{className:"user-activities",children:[e.jsx("h3",{children:"User Activities"}),e.jsx("ul",{children:l.activities.length===0?e.jsx("li",{children:"No recent activities."}):l.activities.map((s,o)=>e.jsxs("li",{children:[j.timeAgo(s.at),": ",s.txt]},o))})]})]})}export{k as default};
